# SW 개발 계획서
* 전력산업에 ICT신기술을 적용한 새로운 사업 모델을 제시하고 이에 따른 정보보안 이슈와 해결 방안을 제시할 것

## 🚩 SW 명

Enhanced Open MG: 한전 오픈 마이크로그리드 개선안

<!--
## Features
#### 개인정보보호 달성
* 거래 익명화(Confidential Transaction): 판매자와 소비자 양 측의 개인정보보호 강화
* PPDL(Privacy-Preserving-Deep-Learning): 지능화된 전력망(스마트 그리드) 운용을 위해 필연적인 데이터 수집을 방지하면서도 정확한 에측을 가능하게 함
#### 온전한 탈중앙화(Decentralization)
* PPDL을 통한 Server-less와 P2P 거래로 온전한 탈중앙화를 이룩; 에너지플랫폼 공급자로 도약
#### P2P 거래 강화
* Uniswap을 이용한 P2P 거래 조율: 사재기 방지, 시장 급변 방지
#### 실시간 데이터 분석 및 전달
* Plasma solution: 빠른 Tps(Transaction-per-seconds)를 가진 PoA(Proof-of-Authority) Blockchain을 운용해 실시간 데이터 분석 및 전달 달성; Plasma  통해 Public Blockchain에 결과를 등록함으로써 무결성 훼손 방지
* PPDL을 위한 별도의 Blockchain과 relay를 통해 소통 가능
#### 능동적 서비스로의 전환
* PPDL-chain API: 학습된 모델을 이용한 PPDL-chain 독립적 예측 서비스 제공; (한전 빅데이터 융합센터 등) 분석 데이터만 제공하던 수동적 서비스에서 API를 통한 실시간 예측 정보를 얻을 수 있는 능동적 서비스로의 전환
* (웹사이트, 애플리케이션 등을 통한) 자신의 에너지 소비에 대한 즉각적인 피드백과 전력을 관리할 수 있음
-->

## 🚩 제안 개요
* 제안 SW의 전체적인 내용을 쉽게 이해할 수 있도록 작성할 것 (A4 1 페이지 이내)

스마트 그리드는 전력망에 정보통신기술을 적용하여 전기의 공급자와 사용자가 실시간으로 정보를 교환하는 등의 방법을 통하여 전기를 공급함으로써 에너지 이용효율을 극대화하는 전력망이다[1][2]. 스마트 그리드에서 전력망은 단순히 전력을 공급하는 역할을 넘어 전력 중개(Aggregator), 개인 간 거래(P2P) 등 분산자원을 거래하는 플랫폼으로서 기능한다. 이러한 온라인 전력 거래에 ICT 신기술인 블록체인을 접목하는 시도가 이어지고 있다.

그러나 기존의 블록체인 솔루션에서는 거래에 참여한 공급자와 소비자의 정보(공개키), 거래 내역 및 잔고가 공개되어 누구나 열람할 수 있어 개인정보 유출 문제가 야기된다. 또한 실제 전기를 공급/소비하는 공급자/소비자가 아니라 시장에서의 차익만을 노리는 거래자(trader)가 등장해 시세를 교란할 수 있다.

![service](https://github.com/twodude/Energy-X-Security-Hackathon/blob/master/images/service.png)

제안하는 'Enhanced Open MG'에서는 익명화 기술인 영지식증명(zero-knowledge proof) 기술에 기반한 토큰(token) zk-ERC20을 제시하고, 거래를 완전히 익명화해 개인정보를 보호하면서도 블록체인상에서 거래가 성사될 수 있도록 했다[5][6]. 또한 거래량에 따라 자동으로 가격이 책정되는(APR) 유니스왑(uniswap) 프로토콜을 사용해 시장 교란 행위를 방지하고 높은 유동성을 확보했다[7].

한편 수요 예측 등 스마트 그리드의 지능형 기능 운용에는 데이터 수집이 필수적이다. 이를 위해 참여자 간에 데이터를 공개하지 않으면서도 공동의 모델을 학습시킬 수 있는 탈중앙화된 모델 학습 방식(PPDL, Privacy-Preserving Deep Learning)을 구현했다[8]. 이로부터 데이터 프라이버시 문제를 해결하는 동시에 실시간 수요 예측을 가능하게 한다. 나아가 단순히 데이터 열람만 가능한 현재의 수동적인 형태에서, 서비스로서의 추론 기능(Inference-as-a-service)을 제공함으로써 능동적인 가치 창출을 가능하게 한다. 이로부터 전력산업에서 신시장을 창출하고 경제의 혁신성장에 기여하고자 한다.

## 🚩 배경 및 필요성
* 제안 이유 및 필요성 등 제안 배경을 잘 이해할 수 있도록 작성할 것 (A4 2 페이지 이내)

2011년 폭염, 전기 생산량이 소비량을 감당하지 못해 한국전력공사의 광역 감시 제어 시스템 WAMAC이 전국적 순환 정전을 실시했다. 이로써 무작위 정전 사태인 블랙아웃을 방지하고자 했으나 여러 불편이 야기됐다. 전력 공급 우선순위가 낮았던 소규모 병원에서는 수술이 중단되는 일도 있었다[9]. 만일 당시에 스마트 그리드 기술이 적용되었더라면 혼란을 줄일 수 있었을 것이다.

지금까지의 전력망은 발전소와 소비자를 연결하는 것에 중점을 두었다면, 스마트 그리드는 기존 전력망에 양방향 정보교환을 더해 데이터 활용을 가능하게 한다. 가령 급격한 전기 소비 증가에 대비하기 위해 실제 생산하는 전기량을 항상 소비량보다 많게 유지하고자 하는데, 이러한 '전력 공급 예비율'이 너무 높으면 에너지가 낭비된다. 스마트 그리드에서는 데이터에 기반한 효율적ᆞ안정적인 전력 공급 및 수요 조절이 가능하다. 대표적인 사례로 미국에서는 2003년 'Grid 2030' 정책을 펼쳐 최초로 스마트 그리드 실증 사업을 추진, 2012년 3월까지 29억 달러를 투자해 68억 달러 규모의 산출물을 얻었으며, 에너지의 효율적인 관리뿐만 아니라 다양한 분야의 일자리가 창출되는 효과를 입증했다[10].

이렇듯 전력 시장은 변화하고 있다. 기존 공급자와 소비자로 이원화된 시장 주체의 경계는 희석되어 프로슈머와 같은 참여자가 등장했고, 전력 거래는 단순 시장을 넘어 중개 거래, P2P 거래를 포괄한다. 이로써 시장 구조는 소수 공급자가 전기를 파는 수직적ᆞ폐쇄적 구조에서 다수가 전기를 사고파는 수평적ᆞ개방적 구조로 변화한다[11]. 이에 자연스럽게 블록체인 기술을 접목할 수 있다. 국내외 여러 사례가 있는데, 영국의 스타트업 'Verv'는 런던 북동부 지역인 해크니 주택단지에 시범적으로 블록체인을 통한 P2P 전력거래 시스템을 도입한 바 있다. 미국의 스타트업 'LO3'는 뉴욕 브루클린 지역을 대상으로 잉여전력 거래 시스템을 구축하였고, 호주의 'Power Ledger'는 호주 정부와 협력하여 스마트 그리드 구축을 진행했다. 또한 오스트리아의 'Grid Singularity'는 블록체인을 통해 에너지 수요 관리 및 데이터 거래를 할 수 있게 했다. 국내에서는 한국전력공사가 블록체인 기반의 개방형 에너지 커뮤니티 'KEPCO Open MG' 프로젝트를 추진 중이다[3][4].

블록체인 기반 플랫폼에서 프로슈머 개개인은 중앙화된 기관, 가령 전력회사 같은 신뢰할 수 있는 기관이 없어도 에너지를 거래할 수 있다. 거래 과정의 단축과 비용을 획기적으로 낮춰 전력 거래 시장의 효율을 높일 수도 있다. 그러나 블록체인 솔루션을 채택함으로 인해 개인정보 유출 및 데이터 프라이버시, 시장 교란 행위 등이 새로운 문제점으로 부상한다.

### 블록체인 기반 플랫폼의 한계

#### 개인정보 유출

블록체인에서는 모든 거래 내역이 원장에 공개되므로 개인정보 유출 문제가 발생한다. 가령 '공동주택 내 홈 간 전력거래'가 블록체인상에서 이뤄진다면, 이웃 중 누구나 나의 공개키를 추적하는 것으로 에너지 거래 장부, 에너지 사용 정보를 알아낼 수 있다[12]. 스마트 전력 계량기(AMI)가 도입되면 문제는 더욱 심화된다. 초단위의 에너지 사용량은 주거자 수, 생활 패턴 등을 역추산할 수 있는 근거가 된다. 이는 관리자가 존재하는 프라이빗(private) 블록체인에서 검증 권한에 차등을 두는 방식으로 대응할 수 있으나, 이는 근본적인 문제 해결이 아니라 또 다른 중앙화 문제를 야기하는 자충수이다. 따라서 플랫폼 활성화를 위해 거래 내역을 완전히 익명화하면서도 검증할 수 있는 기술이 요구된다.

#### 데이터 프라이버시

전력 소비자의 데이터는 '전력 사용량 예측' 등의 응용에 필요한 데이터이다. 또한 앞으로 다양한 전력 관련 산업이 창출되어 스마트 그리드 블록체인에 참여하는 전력 공급자, 프로슈머 수가 증가함에 따라 이들이 제공하는 데이터는 '전기 요금 예측', '전력 공급망의 효율적인 배치' 등에 요구된다. 그러나 이러한 데이터 역시 민감한 개인정보이므로 활용한 서비스 제공에 프라이버시 문제가 발생한다. 이를 해결하려면 업체 간 프라이버시를 보장하면서 높은 정확도의 추론 서비스(Inference-as-a-Service)를 제공할 수 있는 기술적 대안이 필요하다.

#### 시장 교란 행위

종래의 P2P 거래는 희망 가격이 일치하는 판매자와 구매자가 매칭된 후 상호 거래가 이루어진다. 이는 시장 참여자가 많고 높은 거래량이 보장될 때 올바르게 작동한다. 그러나 시장에 충분한 유동성이 공급되지 않는 경우, 소수의 거래자들이 시장을 교란할 수 있다. 실제 에너지 공급자ᆞ소비자가 아닌 차익만을 노리는 거래자로부터 생태계가 위협받을 수 있다. 따라서 시장 교란 행위를 방지하는 방안이 필요하다.

이러한 블록체인 기반 플랫폼의 한계를 해결하기 위해 우리는 새로운 시스템의 필요성을 주장한다. 나아가 거래의 익명화를 통해 더 많은 소비자를 시스템에 유치하고, 소비자와 공급자가 생산하는 데이터의 프라이버시를 보장하면서도 높은 정확도의 추론 서비스를 제공하며, 시장 교란 행위에 내구성이 있는 시스템을 제안한다. 본 시스템으로 하여금 비로소 블록체인 기술이 성공적으로 에너지 플랫폼에 결합될 것이다.

## 🚩 제안 SW
* 제안 SW의 구체적인 내용을 자유롭게 기술하되, 활용대상 데이터, 데이터 확보방안, 분석․활용 아이디어에 대해 세부적이고 구체적으로 기술할 것
* 활용 대상이 되는 데이터 항목 등에 대해 상세히 기술할 것
* 활용 대상 데이터는 제한이 없으나 확보 가능한 데이터이어야 함
* 데이터 분석을 통해 얻을 수 있는 결과와 이를 활용한 아이디어에 대해 상세히 기술할 것




### 시스템 구조도
![overview](https://github.com/twodude/Energy-X-Security-Hackathon/blob/master/images/overview.png)





### Plasma Chain

플라즈마(plasma)는 블록체인 트랜잭션 데이터를 분산 처리해 초당 트랜잭션 처리량(TPS)를 높이는 아이디어이다. 주 체인(Main-chain, Root-chain)인 이더리움의 경우 TPS에 한계가 존재하므로 네트워크 참여자들이 실시간으로 정보를 상호 교환하기 어렵다. 주 체인과 별개로 동작하는 다른 블록체인인 플라즈마 체인(Plasma-chain)을 구성하고, 주 체인의 트랜잭션을 분담해 처리한다면 TPS를 높일 수 있다. 본 SW에서는 실시간 정보 처리 및 빠른 P2P 거래, 지연 없는 서비스 제공을 위해 플라즈마 체인 구성을 채택했다.

![plasma](https://github.com/twodude/Energy-X-Security-Hackathon/blob/master/images/plasma.png)

플라즈마 체인의 트랜잭션들은 일장 주기를 기준으로 주 체인에 등록(commit)된다. 트랜잭션들을 리프 노드(leaf node)로 하는 머클 트리(merkle tree)를 구성하고, 머클 루트 값을 주 체인인 이더리움의 스마트 컨트랙트에 등록한다.

플라즈마 체인에 참여하고자 하는 사용자들은 주 체인에 ETH를 예치하고, 이에 대응되는 수량의 플라즈마 체인 통화인 PETH를 받는다. 만일 플라즈마 체인에서 나가고자 한다면 PETH를 반환하고, 이에 대응되는 수량의 ETH를 회수할 수 있다. 이 예치된 ETH를 Security Deposit이라 부르는데, 누군가가 플라즈마 체인 상에서 악의적인 행동을 취하면 플라즈마 체인의 관리자 권한 혹은 거버넌스를 통해 당사자의 Security Deposit을 삭감할 수 있다[24].

본 구현체는 권위 증명(PoA, Proof-of-Authority) 합의 알고리즘에 기반한 플라즈마 체인을 통해 높은 TPS를 달성하면서도, 작업 증명(PoW, Proof-of-Work) 합의 알고리즘을 사용하는 퍼블릭 블록체인인 이더리움을 주 체인으로 하여 투명성을 보장한다.

### Privacy Preserving Deep Learning

PPDL(Privacy-Preserving Deep Learning)은 딥러닝 모델을 분산 환경에서 학습하고 추론할 수 있는 모델이다. 연합 학습(FL, Federated Learning)이라고도 하는 이 기술은 한 주체가 데이터를 수집해 모델을 학습시키는 방식이 아니라, 각 데이터가 저장된 곳으로 모델을 전송한 후 모델 업데이트를 위한 정보를 수집한다. 모델을 전송하는 주체를 서버(server), 모델을 받아 훈련을 수행하는 주체를 클라이언트(client)라 하자. 또한 전송되는 최초의 모델을 '마스터 모델'이라고 하자. 클라이언트는 마스터 모델을 전송받아 저마다의 데이터로 학습하고, 업데이트 정보(가중치의 변화량)를 서버로 전송한다. 서버는 업데이트 내역을 모아 마스터 모델을 업데이트한다. 이를 반복하면서 정확도를 높인다. 본 과정에서 데이터는 전혀 외부에 노출되지 않으므로 클라이언트 개개인의 데이터 프라이버시를 보장할 수 있다[16].

![ppdl](https://github.com/twodude/Energy-X-Security-Hackathon/blob/master/images/ppdl.png)

PPDL을 P2P와 같은 분산 환경에서 구성하더라도 정확도를 향상시키는 방향으로 학습할 수 있음이 이미 연구되어 있다[17]. 본 SW에서는 PPDL과 블록체인을 결부시켜, 악의적인 참여자(비잔틴 노드, Byzantine Node)가 일부 포함되더라도 내구성을 가지는 구조인 PPDL-chain을 제안한다. PPDL-chain을 이용해 네트워크의 참여자들은 서로 데이터를 공개하지 않고도 공통의 인공 신경망 모델을 학습시킬 수 있으며, 심지어 서로 신뢰할 수 없고 서버가 없는(serverless) 환경에서도 정확도 높은 모델을 도출할 수 있다.

가령 '전력 수요 예측 서비스'를 제공하기 위해서는 기준용량가격 그리고 지역 및 시간대별 용량가격계수 등의 전력시장 정보, 피크전력 데이터, 지역별 기상 정보 등의 방대한 과거 자료가 필요하다. 다음은 거시적 관점에서의 전력 수요 예측 서비스를 제공하기 위한 활용 대상 데이터의 예시와 그에 관한 상세이다.

#### 전력거래소 - 전력시장 정보
* 출처: https://www.kpx.or.kr/www/selectBbsNttList.do?key=19&bbsNo=133
* 2015년부터 2019년까지의 기준용량가격, 지역 및 시간대별 용량가격계수
  
#### KT giga energy trade - 피크전력 데이터
* 공개 API를 통한 데이터 제공
* 공개 API 가이드: https://apilink.kt.co.kr/apiInfo/mvInfoView.do?apiSpcNo=489&apiNo=6738
* 15분 단위
* 과거 피크전력 및 예측 피크전력 데이터 제공
  * 과거 데이터 링크: https://apilink.kt.co.kr/base/getPeakElectricMn15
  * 예측 데이터 링크: https://apilink.kt.co.kr/base/getExpectPeakElectricMn15

#### 기상자료개방포털 - 기상 데이터
* 출처: https://data.kma.go.kr/cmmn/main.do
* 1시간 단위
* 기온, 습도, 기압, 지면온도, 강수량, 풍향, 풍속, 일조 항목의 지역별 기상 정보

그러나 보다 미시적으로, 아파트 단지나 가구별 전력 수요 예측 서비스를 제공하기 위해서는 생활에 밀접한 개인정보가 필요하므로 필연적인 데이터 프라이버시 문제가 발생한다. 뿐만 아니라 방대한 데이터를 저장할 스토리지(storage), 이를 학습시키기 위한 강력한 컴퓨팅 자원이 요구된다. 본 상황에서 PPDL-chain을 활용하면 데이터 프라이버시를 보장하면서도 정확도 높은 예측 서비스를 서버가 없는 분산 환경상에서 구축할 수 있다.

현재 PPDL-chain 구현체는 PBFT(Practical Byzantine Fault Tolerance)를 차용한 합의 알고리즘을 따르도록 제작되었다. PBFT 합의 알고리즘은 다음 일련의 절차로 구성된 라운드(round)를 단위로 블록을 생성한다.

1. 네트워크 참여자 중 리더(Leader 혹은 Primary) 노드를 선출한다.
2. 리더가 클라이언트들의 요청을 수집해 정렬하고, 각각의 요청을 실행 결과와 함께 다른 노드들에게 전파한다.
3. 각 노드들 역시 다른 노드들에게서 받은 메시지를 다시 한 번 전파한다(브로드캐스트).
4. 모든 노드는 자신이 다른 노드들로부터 가장 많이 받은 메시지가 무엇인지를 파악하고, 본 메시지가 정족수 이상일 경우 다른 노드들에게 전파한다.

![pbft](https://github.com/twodude/Energy-X-Security-Hackathon/blob/master/images/pbft.png)

위 과정이 끝나면 모든 노드들은 정족수 이상이 동의해 합의를 이룬 같은 데이터를 가진다[18][19]. 유사하게, PPDL-chain은 다음 일련의 절차로 구성된 라운드를 단위로 블록을 생성한다.

1. 네트워크 참여자 중 리더(Leader 혹은 Primary) 노드를 선출한다. 리더 노드가 가진 모델이 '마스터 모델'로서 기능한다.
2. 리더의 마스터 모델을 다른 노드들에게 전파한다.
3. 각 노드들은 저마다의 학습 데이터를 가지고 전파받은 모델을 학습한다. 이후 업데이트 정보를 전파한다.
4. 각 노드들의 저마다의 업데이트 내역을 모아 마스터 모델을 업데이트한다.

인공 신경망 모델의 정보는 블록에 기록되며, 본 정보를 활용해 추론/예측 서비스를 제공한다.

추후 사용자 수의 증대, 보다 복잡한 모델의 수요가 많아지는 등 확장성이 요구된다면 방향성 비순환 그래프(Directed Acyclic Graph) 기반의 블록체인 구조와 새로운 합의 알고리즘을 도입해 개선할 방침이다.

### Relay

PPDL-chain은 주 기능을 담당하는 플라즈마 체인과는 별개의 독립적인 블록체인이므로, PPDL-chain의 정보를 활용하기 위해 플라즈마 체인과 상호운용성을 제공할 장치가 필요하다. 본 SW에서는 릴레이(relay) 구조를 차용했다. 릴레이는 타 블록체인의 읽기와 검증을 수행하는 블록체인상에 구현된 시스템이다[21].

![detail](https://github.com/twodude/Energy-X-Security-Hackathon/blob/master/images/detail.png)

릴레이에서는 릴레이어(relayer)가 PPDL-chain의 블록 헤더를 읽어 그 정보를 플라즈마 체인 상의 스마트 컨트랙트에 지속적으로 제출한다. 블록 번호, 블록 해시, 타임스탬프 등 블록 헤더를 구성하는 인자들의 유효성을 스마트 컨트랙트를 통해 검증하고, 유효성이 입증된 블록 헤더만을 수용한다. 즉, PPDL-chain의 라이트 클라이언트(light client)를 플라즈마 체인의 스마트 컨트랙트를 통해 구동하는 것과 유사한 개념이다.

한 명의 릴레이어에게 중앙화되는 문제를 해결하기 위해 복수의 릴레이어를 허용하고, 서로 경쟁하도록 이코노미를 설계해 분산화 정도를 훼손하지 않는다. 이는 실제 블록체인 참여자들이 채굴(mining)을 위해 경쟁하는 것과 유사한 개념이다. 또한 만일 본 시스템의 규모가 커지고 PPDL-chain의 활용 정도가 높아진다면 다중서명지갑(multi-sig wallet)을 활용한 연합 페그(Federated Peg)라는 구조를 채용해 탈중앙화 정도를 강화하고, 나아가 코스모스(Cosmos), 폴카닷(Polkadot) 처럼 릴레이어들의 합의를 위한 별도의 블록체인을 운영해 관리할 방침이다[22][23].

현재 PPDL-chain은 PBFT와 유사한 합의 알고리즘을 사용하므로, 동일한 블록 번호를 가지는 블록이 동시에 발생하는 분기 및 재구성(reorg, reorganization) 상황은 발생하지 않는다. 그러나 합의 알고리즘의 변경 등의 이유로 재구성이 발생할 가능성이 있다면, 이를 반영할 수 있어야만 올바른 정보를 릴레이할 수 있다. 따라서 재구성 합의 과정 역시 스마트 컨트랙트로 구현해 적용해야 한다. 이에 이더리움의 블록체인 재구성 합의 과정을 스마트 컨트랙트로 구현해 유효함을 보였다[20].

### Uniswap

잉여전력은 풀로 

#### Eth to Token
<!--주로 생산자와 소비자 간의 거래-->
![e2t](https://github.com/twodude/Energy-X-Security-Hackathon/blob/master/images/uniswap_e2t.png)

#### Token to Token
<!--지역별(마이크로 그리드) 잉여 전력 거래 가능-->
![t2t](https://github.com/twodude/Energy-X-Security-Hackathon/blob/master/images/uniswap_t2t.png)

<!--
### 시뮬레이션
-->

<!--
이처럼 블록체인 상에서의 P2P 전력 거래 시스템이 많지만 다들 유저의 프라이버시 문제는 고려하지 않고 있다. 현재 시스템은 누가 누구에게 얼만큼의 전력을 얼마에 팔았는지 모두 드러나게 되어 프라이버시가 보호되지 않는다. 이에 우리는 전력 수요를 예측하는 머신러닝 모델을 학습 시킬 때도 유저들의 개인 정보가 드러나지 않는 Privacy Preserving Deep Learning [3] 방식을 도입하였으며, 블록 체인 상에서 유저간 거래 정보를 보호하기 위해 자세한 정보는 보이지 않으면서도 거래의 유효성은 검증할 수 있게 해주는 Zero Knowledge Proof [2] 기술을 활용하고자 한다.
-->

## 🚩 예상 결과 (서비스)
* 제안 SW개발을 실행하여 얻을 수 있는 예상 결과물 (서비스 등)에 대해 구체적으로 기술할 것 (A4 2 페이지 이내)

본 제안 SW는 거래를 익명화할 수 있고, 데이터 프라이버시를 보장하면서도 추론 서비스를 제공할 수 있고, 시장 교란 행위에 내구성이 있다. 이러한 에너지 거래 플랫폼은 다음과 같은 서비스들을 제공한다.

![SGaaS](https://github.com/twodude/Energy-X-Security-Hackathon/blob/master/images/SGaaS.png)

#### 실시간 전력망 통합관제 시스템

데이터에 기반한 예측을 토대로 에너지의 실시간 감시, 제공, 제어하는 통합관제 시스템을 구축한다. 이는 특히 신재생 에너지에 높은 효용을 보인다. 현재 1MW 이하 소규모 신재생 발전소는 월 1회 누적 발전량을 계량하는 반면, 본 시스템은 데이터를 실시간으로 누적하고 활용할 수 있도록 제공한다[11]. 에너지 공급자와 소비자들은 수시로 공급량이 변동하는 재생 에너지에 유연하게 대처할 수 있다.

#### P2P 에너지 거래

블록체인을 통해 중앙화된 주체 없이 공급자ᆞ소비자ᆞ프로슈머 간 에너지 직거래가 가능하다. P2P(Peer-to-Peer) 에너지 거래 방식을 통해 사용자들은 합리적인 가격에 전기를 구매해 사용할 수 있고, 태양광 발전을 통해 에너지를 생산하는 프로슈머라면 남는 전기를 이웃에게 팔 수 있다. 또한 소규모 전력자원을 모아서 거래하고 현황, 실적을 체계적으로 관리하는 '전력 중개 사업' 등 신사업 파생을 지원한다.

본 시스템은 영지식증명으로부터 블록체인상 거래에서 내역이 공개됨으로써 야기되는 개인정보 유출 문제를 방지해 보다 안전한 서비스를 제공한다. 또한 유니스왑 프로토콜을 통해 시장 교란 행위를 방지하고 사용자 개입없이 자동으로 수요를 조정하는 자동화 수요반응자원(Automated Demand Response)을 달성한다.

PoA(Proof of Authority) 기반의 높은 TPS(Transaction Per Second)를 가지는 플라즈마 블록체인에서 거래가 이뤄지므로 지체없이 빠른 P2P 에너지 거래 서비스를 제공할 수 있다.

#### 서비스로서의 추론

본 시스템은 예측 모델로부터 전력 빅데이터 기반 신사업모델을 제시한다. 기존 데이터 제공에만 머무르던 수동적인 서비스에서 나아가, 실시간 예측을 제공하는 능동적인 서비스를 제공한다. 가령 소비자는 서비스로서의 '가격 예측 모델'을 통해 세탁기를 가장 싼 전기 요금 시간대에 맞춰 작동하고, 한낮에 에어컨 전력 사용을 조절하는 등의 자율적 에너지 사용이 가능하다. 공급자는 서비스로서의 '수요 예측 모델'을 통해 공급 예비율과 설비 예비율을 조정할 수 있다. 사업자는 서비스로서의 '전력 공급망 효율 계산 모델'을 통해 발전소 건설, 마이크로 그리드 구축 등을 행할 수 있다.

이러한 추론 모델들은 프라이버시를 지키면서도 인공 신경망을 학습시킬 수 있는 PPDL(Privacy-Preserving Deep Learning)에 기반해 제공되므로 데이터 프라이버시를 보장하면서도 높은 정확도의 모델을 형성한다.

#### 서비스로서의 스마트 그리드

궁극적으로 본 시스템은 실시간 전력망 통합관제 시스템, P2P 에너지 거래, 서비스로서의 추론으로부터 서비스로서의 스마트 그리드(SGaaS, Smart-Grid-as-a-Service)를 제공한다. 이는 전력망과 독립적인 마이크로 그리드 형성을 보조한다. 유니스왑을 통해 공급자-소비자 간 거래를 넘어 마이크로 그리드 간 자동화된 가치 교환, 전력 교환이 가능하다. 나아가 스마트 시티, V2X(Vehicle to Everything) 등 이종 사업부문에서 서비스로서의 스마트 그리드를 활용할 수 있다. 

## 🚩 기대효과
* 제안 SW개발을 실행하여 얻을 수 있는 기대효과에 대해 구체적으로 기술할 것 (A4 1 페이지 이내)

본 시스템이 제공하는 실시간 전력망 통합관제 시스템, P2P 에너지 거래, 서비스로서의 추론, 그리고 서비스로서의 스마트 그리드를 통해 다음과 같은 효과를 기대할 수 있다.

#### 거래 플랫폼의 활성화

본 시스템의 거래는 zk-ERC20로 명명하는 익명화 토큰에 기반한다. 영지식증명 기술로 거래 참여자와 내역을 숨겨 거래를 완전히 익명화할 수 있다. 또한 본 시스템은 PPDL(Privacy-Preserving Deep Learning)을 적용해 종래의 스마트 전력 계량기 등으로부터 발생할 수 있는 데이터 프라이버시 문제를 해결한다. 이를 통해 공급자와 소비자 양 측의 프라이버시를 보장함으로써 개인정보 유출의 우려를 잠식, 마켓 참여의 장벽을 크게 낮춘다.

블록체인 기반 P2P 거래와 실시간 전력망에 기반해 소비자는 가장 값싼 전기를 탐색 구매할 수 있으며, 공급자는 잉여 전력 유지보수 비용을 절감할 수 있다. 또한 중간 거래 비용을 획기적으로 줄일 수 있다. 통합된 유니스왑 프로토콜은 에너지 거래에 대한 유동성 및 신뢰성을 높혀, P2P 에너지 거래에 회의적인 사용자에게도 유인책을 제공한다.

#### 신재생 에너지 병목현상 해소

현재 신재생 에너지 분야의 가장 큰 문제점은 전력 계통 부족으로 인한 병목현상이다. 이는 전력 계통 연결이 잘 되어있는 도심지역과 달리, 태양광 발전이 비교적 수월한 농촌 지역들은 전력 계통이 턱없이 부족하기에 발생하는 문제이다. 실제로 현재 국내에서는 태양광 발전을 통해 이미 발전된 전력도 전력 계통에 연계할 수가 없어 고객에게 팔지 못하고 있다[14]. 본 시스템은 실시간 전력망과 P2P 거래, '전력 공급망 효율 계산 모델' 등의 서비스로 재생 에너지 간헐성 문제를 해결해 효율을 증대시킨다[13].

#### 플랫폼 활용을 통한 부가가치 창출

본 시스템에서 제공하는 서비스로서의 추론은 신사업모델 확산의 기반이 된다. 가령 소비량, 요금 등의 전력 사용 정보를 바탕으로 형성된 추론 모델에 프론트엔드(front-end)를 더해 웹, 모바일 등의 사용자 친화적 서비스를 빠르게 구축할 수 있다. 요금 비교 서비스, 수요 관리 서비스, 태양광 설치 컨설팅 등이 그 예시이다[11]. 분석된 정보가 소비자에게 실시간으로 전달돼야 진정한 스마트 그리드가 구현되기 때문에, 이러한 사업의 확산 및 보조는 매우 중요하다[15].

#### 스마트 그리드 활성화

본 시스템의 구조는 '한국전력공사 Open MG' 등 기존 블록체인 기반의 에너지 거래 플랫폼에 적용하거나, 포괄해 운용할 수 있다. 이로써 기존 플랫폼이 가지는 한계를 극복하고, 더 많은 사용자의 참여를 유도하고, 부가가치를 창출함으로써 스마트 그리드의 활성화에 기여할 것으로 기대한다.

## 🚩 참고자료
* 제안 SW개발에 참고한 자료 또는 제안 아이디어의 실효성을 판단하는 데 도움이 될 수 있는 자료 등이 있을 경우 기술할 것

<!--
[1] Fang, Xi, et al. "Smart grid—The new and improved power grid: A survey." IEEE communications surveys & tutorials 14.4 (2011): 944-980.
[2] Feige, Uriel, Amos Fiat, and Adi Shamir. "Zero-knowledge proofs of identity." Journal of cryptology 1.2 (1988): 77-94.
[3] Shokri, Reza, and Vitaly Shmatikov. "Privacy-preserving deep learning." Proceedings of the 22nd ACM SIGSAC conference on computer and communications security. ACM, 2015.
[4] 스마트 그리드 시장 활성화 - http://www.bloter.net/archives/72049
[5] 해외 에너지 기술 회사 - https://www.mk.co.kr/news/economy/view/2018/06/384275/
[6] 한전 오픈 마이크로 그리드 – https://jnilbo.com/2019/01/22/2019012214534911773/
-->

[1] Fang, Xi, et al. "Smart grid—The new and improved power grid: A survey." IEEE communications surveys & tutorials 14.4 (2011): 944-980.

[2] 지능형전력망법 제2조 제2호

[3] KEPCO, https://home.kepco.co.kr/

[4] http://www.energy-news.co.kr/news/articleView.html?idxno=60328

[5] 영지식증명

[6] zk-ERC20

[7] uniswap

[8] Shokri, Reza, and Vitaly Shmatikov. "Privacy-preserving deep learning." Proceedings of the 22nd ACM SIGSAC conference on computer and communications security. ACM, 2015.

[9] 박재용, "스마트 그리드, 전력 효율관리인가 전력 민영화 출발인가”, http://www.newstof.com/news/articleView.html?idxno=1111

[10]  (주) 윕스 2014. 03 제주 스마트그리드 실증사업 성과평가 및 상호운용성 확산방안 도출 용역, 한국에너지기술평가원 pp. 9p. 

[11] 산업통상자원부, “제2차 지능형전력망 기본계획”. 2018.8.

[12] 에너지경제연구원, "블록체인, 에너지 부문 기회와 과제"

[13] 강두순, “英, 블록체인 기술로 에너지 직거래…현실이 된 '반값 전기료'”. https://www.mk.co.kr/news/economy/view/2018/06/384275/

[14] http://www.solartodaymag.com/news/articleView.html?idxno=6329

[15] http://www.bloter.net/archives/72049

[16] http://www.hani.co.kr/arti/science/science_general/887030.html

[17] DaiMoN: A Decentralized Artificial Intelligence Model Network

[18] https://www.usenix.org/legacy/events/nsdi09/tech/full_papers/wester/wester_html/index.html

[19] https://blog.theloop.co.kr/2017/06/21/bft-기반-합의-알고리즘/

[20] https://github.com/twodude/eth-ghost-sol

[21] https://medium.com/cryptronics/blockchain-interoperability-moving-assets-across-chains-e5203357d949

[22] https://cosmos.network

[23] https://polkadot.network

[24] https://medium.com/onther-tech/plasma-101-lets-scale-with-cryptoeconomics-ee0c9fac4989
